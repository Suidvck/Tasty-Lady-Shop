<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasty Lady - Home</title>
    <style>
        :root {
            --primary: #e63946;
            --secondary: #ff9500;
            --dark: #1d3557;
            --light: #f8f9fa;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        header {
            background: var(--light);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 100;
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            margin-left: 2rem;
            transition: color 0.3s;
            position: relative;
            overflow: hidden;
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
            transform: translateX(-100%);
            transition: transform 0.3s;
        }

        .nav-links a:hover::after {
            transform: translateX(0);
        }

        .banner {
            height: 80vh;
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('banner.jpg');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            margin-top: 60px;
        }

        .banner-content h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .about-us {
            padding: 4rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .about-us h2 {
            color: var(--dark);
            margin-bottom: 2rem;
        }

        .recommendations {
            background: var(--light);
            padding: 4rem 2rem;
        }

        .recommendations h2 {
            text-align: center;
            color: var(--dark);
            margin-bottom: 2rem;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }


        .product-info p {
            color: #666;
        }

        /* Fire Effect Animations */
        @keyframes fire {
            0% { box-shadow: 0 0 4px var(--secondary); }
            50% { box-shadow: 0 0 12px var(--secondary), 0 0 20px var(--primary); }
            100% { box-shadow: 0 0 4px var(--secondary); }
        }

        @keyframes spark {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            50% { transform: translate(var(--x, -10px), -10px) scale(1.2); opacity: 0.8; }
            100% { transform: translate(calc(var(--x, -10px) * 2), -20px) scale(0); opacity: 0; }
        }

        .fire-effect {
            animation: fire 0.5s ease-in-out;
            position: relative;
            z-index: 1;
        }

        .spark {
            position: absolute;
            background: var(--secondary);
            border-radius: 50%;
            width: 4px;
            height: 4px;
            opacity: 0;
            animation: spark 0.8s ease-in-out;
            pointer-events: none;
            z-index: 2;
        }

        /* Enhanced hover effects */
        .nav-links a:hover,
        .product-card:hover,
        .logo:hover {
            animation: fire 0.5s ease-in-out;
        }

        .button {
            background: var(--primary);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .button:hover {
            animation: fire 0.5s ease-in-out;
            transform: translateY(-2px);
        }

        /* Mobile Navigation Styles */
        .menu-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark);
        }

        .dot-menu {
            display: flex;
            flex-direction: column;
            gap: 3px;
            padding: 5px;
        }

        .dot {
            width: 5px;
            height: 5px;
            background-color: var(--dark);
            border-radius: 50%;
            transition: background-color 0.3s;
        }

        @media screen and (max-width: 768px) {
            .menu-toggle {
                display: block;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                right: 0;
                background: var(--light);
                padding: 1rem;
                border-radius: 0 0 10px 10px;
                box-shadow: 0 4px 10px rgba(0,0,0,0.1);
                flex-direction: column;
                width: 200px;
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links a {
                margin: 0.5rem 0;
                padding: 0.5rem 1rem;
                width: 100%;
            }

            .dot-menu:hover .dot {
                background-color: var(--primary);
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Tasty Lady</div>
            <div class="menu-toggle">
                <div class="dot-menu">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>
            <div class="nav-links">
                <a href="Home.html">Home</a>
                <a href="Product.html">Products</a>
                <a href="Contact.html">Contact</a>
                <a href="Faq.html">FAQ</a>
            </div>
        </nav>
    </header>

    <section class="banner">
        <div class="banner-content">
            <h1>Welcome to Tasty Lady</h1>
            <p>Discover the authentic taste of homemade chili paste</p>
        </div>
    </section>

    <section class="about-us">
        <h2>About Us</h2>
        <p>Tasty Lady is dedicated to bringing you the finest homemade chili pastes, crafted with love and tradition. Our recipes have been passed down through generations, ensuring authentic taste and quality in every jar.</p>
    </section>

    <section class="recommendations">
        <h2>Popular Products</h2>
        <div class="product-grid">
            <div class="product-card">
                <img src="product1.jpg" alt="Classic Chili Paste">
                <div class="product-info">
                    <h3>Classic Chili Paste</h3>
                    <p>Our signature blend of spices and chilies</p>
                </div>
            </div>
            <div class="product-card">
                <img src="product2.jpg" alt="Spicy Garlic Paste">
                <div class="product-info">
                    <h3>Spicy Garlic Paste</h3>
                    <p>Perfect combination of heat and flavor</p>
                </div>
            </div>
            <div class="product-card">
                <img src="product3.jpg" alt="Sweet Chili Paste">
                <div class="product-info">
                    <h3>Sweet Chili Paste</h3>
                    <p>Balanced sweetness with a spicy kick</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Replace the checkLogin function
        async function checkLogin() {
            const sessionToken = localStorage.getItem('sessionToken');
            const userEmail = localStorage.getItem('userEmail');
            
            // If no session found, redirect to login
            if (!sessionToken || !userEmail) {
                window.location.href = 'login.html';
                return false;
            }
        
            try {
                // Verify the stored email exists in database
                const response = await fetch('https://sheetdb.io/api/v1/7uvyp4lw90646');
                const users = await response.json();
                const user = users.find(u => u.email === userEmail);
                
                if (!user) {
                    // Clear invalid session
                    localStorage.clear();
                    document.cookie = 'loginStatus=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
                    document.cookie = 'userEmail=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
                    window.location.href = 'Login.html';
                    return false;
                }
                
                return true;
            } catch (error) {
                console.error('Error verifying login:', error);
                return true; // Keep user logged in if API fails
            }
        }

        // Get cookie function
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        // Fire effect function
        function addFireEffect(element) {
            element.classList.add('fire-effect');
            for(let i = 0; i < 3; i++) {
                createSpark(element);
            }
            setTimeout(() => element.classList.remove('fire-effect'), 500);
        }

        // Create spark effect
        function createSpark(element) {
            const spark = document.createElement('div');
            spark.className = 'spark';
            const rect = element.getBoundingClientRect();
            const x = Math.random() * rect.width;
            spark.style.left = `${x}px`;
            spark.style.bottom = '0';
            element.appendChild(spark);
            setTimeout(() => spark.remove(), 800);
        }

        // Update the DOMContentLoaded listener
        document.addEventListener('DOMContentLoaded', async () => {
            const isLoggedIn = await checkLogin();
            if (!isLoggedIn) return;

            // Continue with the rest of your initialization
            document.querySelectorAll('a, .product-card, .logo, .button').forEach(element => {
                element.addEventListener('mouseenter', () => addFireEffect(element));
                element.addEventListener('click', () => addFireEffect(element));
            });
            
            // ... rest of your event listeners
        });

        // Mobile menu toggle
        document.addEventListener('DOMContentLoaded', async () => {
            const isLoggedIn = await checkLogin();
            if (!isLoggedIn) return;

            // Add mobile menu functionality
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            menuToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                addFireEffect(menuToggle);
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!menuToggle.contains(e.target) && !navLinks.contains(e.target)) {
                    navLinks.classList.remove('active');
                }
            });

            // Existing event listeners
            document.querySelectorAll('a, .product-card, .logo, .button').forEach(element => {
                element.addEventListener('mouseenter', () => addFireEffect(element));
                element.addEventListener('click', () => addFireEffect(element));
            });
        });
    </script>
</body>
</html>